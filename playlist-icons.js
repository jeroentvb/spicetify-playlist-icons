var playlistDicons=(()=>{var s=Object.create,o=Object.defineProperty,c=Object.getOwnPropertyDescriptor,d=Object.getOwnPropertyNames,p=Object.getPrototypeOf,m=Object.prototype.hasOwnProperty,e=(e=>"undefined"!=typeof require?require:"undefined"!=typeof Proxy?new Proxy(e,{get:(e,t)=>("undefined"!=typeof require?require:e)[t]}):e)(function(e){if("react"===e)return Spicetify.React;if("react-dom"===e)return Spicetify.ReactDOM;if("undefined"!=typeof require)return require.apply(this,arguments);throw new Error('Dynamic require of "'+e+'" is not supported')}),t=(e,t,i)=>{i=null!=e?s(p(e)):{};var a=!t&&e&&e.__esModule?i:o(i,"default",{value:e,enumerable:!0}),n=e,l=void 0,r=void 0;if(n&&"object"==typeof n||"function"==typeof n)for(let e of d(n))m.call(a,e)||e===l||o(a,e,{get:()=>n[e],enumerable:!(r=c(n,e))||r.enumerable});return a};function u(e,t){var i=document.createElement(e?"img":"div");return i.classList.add(t),e?i.setAttribute("src",e):i.classList.add("no-icon"),i}var a=t(e("react")),n=t(e("react-dom")),i=t(e("react"));function l(){return i.default.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",height:"24px",viewBox:"0 0 24 24",width:"24px",fill:"#FFFFFF"},i.default.createElement("path",{d:"M0 0h24v24H0V0z",fill:"none"}),i.default.createElement("path",{d:"M9.17 6l2 2H20v10H4V6h5.17M10 4H4c-1.1 0-1.99.9-1.99 2L2 18c0 1.1.9 2 2 2h16c1.1 0 2-.9 2-2V8c0-1.1-.9-2-2-2h-8l-2-2z"}))}function y(e,...t){var i=document.createElement("div");return i.classList.add(...t),n.default.render(a.default.createElement(l,null),i),e.prepend(i),i}var g=new Map;async function f(s){(await new Promise(t=>{const i=setInterval(()=>{var e=document.querySelectorAll("#spicetify-playlist-list li a");0<e.length&&(clearInterval(i),t(Array.from(e)))},100)})).forEach(e=>{var t;const i=e.href.split("/").at(-1);var a=e.href.split("/").at(-2),n=g.get(i);if(null!=(t=e.parentElement)&&t.classList.add("playlist-item"),n)null!=(t=e.parentElement)&&t.prepend(n);else switch(a){case"playlist":var l=s.find(e=>e.id===i),l=u((null==(l=null==l?void 0:l.images[0])?void 0:l.url)||"","playlist-item__img");null!=(r=e.parentElement)&&r.prepend(l),g.set(i,l);break;case"folder":if(!e.parentElement)return;var r=y(e.parentElement,"playlist-item__img","folder");g.set(i,r);break;default:console.warn("[playlist-icons] playlist list anchor type not recognized: "+a)}})}var v="playlist-icons_big";function b(e,t=document.body,i={childList:!0,subtree:!0}){const a=new MutationObserver(async()=>{a.disconnect(),await e(),a.observe(t,i)});a.observe(t,i),a}var h=new Map;var r=async function(){for(var e,a;null==Spicetify||!Spicetify.Platform||null==Spicetify||!Spicetify.CosmosAsync;)await new Promise(e=>setTimeout(e,100));const t=null!=(e=JSON.parse(localStorage.getItem(v)))&&e,i=await async function e(t){t=await Spicetify.CosmosAsync.get(t);return[...t.items,...t.next?await e(t.next):[]]}("https://api.spotify.com/v1/me/playlists?limit=50"),n=(a="#spicetify-playlist-list",await new Promise(t=>{const i=setInterval(()=>{var e=document.querySelector(a);e&&(clearInterval(i),t(e))},100)}));f(i),b(()=>f(i)),t&&n.classList.add("big-icons");{var l=i;const r=e=>{Array.from(e).filter(e=>!e.classList.contains("add-to-playlist-item")&&!e.querySelector("input")).forEach(t=>{var e,i=!!t.querySelector("button span svg");const a=t.querySelector("button span");i?(y(t,"add-to-playlist-item__folder"),t.classList.add("add-to-playlist-item"),b(()=>{var e=t.querySelector('.main-contextMenu-menu[tabindex="-1"] > div');e&&r(e.children)},t)):(i=l.find(e=>e.name===(null==a?void 0:a.innerText)))&&(e=null!=(e=h.get(i.id))?e:u((null==(e=null==i?void 0:i.images[0])?void 0:e.url)||"","add-to-playlist-item__img"),t.prepend(e),t.classList.add("add-to-playlist-item"),h.has(i.id)||h.set(i.id,e))})};b(()=>{var e=document.querySelector('#context-menu .main-contextMenu-menu[tabindex="-1"] > div');e&&r(e.children)})}new Spicetify.Menu.Item("Big playlist icons",t,e=>{e.setState(!e.isEnabled),localStorage.setItem(v,JSON.stringify(!t)),n.classList.toggle("big-icons")}).register()};(async()=>{await r()})()})();(async()=>{var e;document.getElementById("playlistDicons")||((e=document.createElement("style")).id="playlistDicons",e.textContent=String.raw`
  :root{---playlist-img-spacing:6px}.playlist-item{padding-top:0;padding-bottom:0;align-items:center}.playlist-item__img{width:1.5em;height:1.5em;border-radius:2px;margin-right:12px;filter:brightness(85%)}.playlist-item__img.folder{background-color:var(--spice-tab-active);display:flex;align-items:center;justify-content:center}.playlist-item__img.folder svg{width:1.1em;height:1.1em}.playlist-item__img.no-icon{background-color:var(--spice-tab-active);height:1.5em}.playlist-item:hover .playlist-item__img{transition:.2s ease-out;filter:brightness(100%)}.add-to-playlist-item{display:flex;align-items:center}.add-to-playlist-item:hover{background-color:rgba(var(--spice-rgb-selected-row),.1)}.add-to-playlist-item__folder,.add-to-playlist-item__img{width:2.25rem;padding-left:12px}.add-to-playlist-item>button:hover{background-color:unset}.add-to-playlist-item>button[aria-expanded=true]{background-color:unset}.big-icons .playlist-item{padding-top:var(---playlist-img-spacing);padding-bottom:var(---playlist-img-spacing)}.big-icons .playlist-item__img{border-radius:4px;width:2em;height:2em}.big-icons .playlist-item__img.folder{padding:4px}.big-icons .playlist-item__img.folder svg{width:1.5em;height:1.5em}.big-icons>div{contain:unset}
      `.trim(),document.head.appendChild(e))})();